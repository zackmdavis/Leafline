use ansi_term::Colour as Color;  // this is America

#[derive(Eq,PartialEq,Debug,Copy,Clone,Hash)]
pub enum Team { Orange, Blue }

impl Team {
    fn opponent(&self) -> Self {
        match self {
            &Team::Orange => Team::Blue,
            &Team::Blue => Team::Orange
        }
    }
}

#[derive(Eq,PartialEq,Debug,Copy,Clone,Hash)]
pub enum JobDescription {
    Servant,  // â™‚
    Pony,  // â™€
    Scholar,  // â™€
    Cop,  // â™‚
    Princess,  // â™€
    Figurehead  // â™‚
}

#[derive(Eq,PartialEq,Debug,Copy,Clone,Hash)]
pub struct Agent {
    pub team: Team,
    pub job_description: JobDescription
}

impl Agent {
    // I wanted to call it `dramatis_personÃ¦`, but "non-ascii idents
    // are not fully supported" ðŸ™€
    pub fn dramatis_personae(team: Team) -> Vec<Agent> {
        vec![Agent{ team: team,
                    job_description: JobDescription::Servant },
             Agent{ team: team,
                    job_description: JobDescription::Pony },
             Agent{ team: team,
                    job_description: JobDescription::Scholar },
             Agent{ team: team,
                    job_description: JobDescription::Cop },
             Agent{ team: team,
                    job_description: JobDescription::Princess },
             Agent{ team: team,
                    job_description: JobDescription::Figurehead }]
    }

    pub fn render_caricature(&self) {
        let caricature = match self {
            &Agent { team: Team::Orange, .. } => {
                match self.job_description {
                    JobDescription::Servant => Color::Yellow.paint("â™™"),
                    JobDescription::Pony => Color::Yellow.paint("â™˜"),
                    JobDescription::Scholar => Color::Yellow.paint("â™—"),
                    JobDescription::Cop => Color::Yellow.paint("â™–"),
                    JobDescription::Princess => Color::Yellow.paint("â™•"),
                    JobDescription::Figurehead => Color::Yellow.paint("â™”"),
                }
            },
            &Agent { team: Team::Blue, .. } => {
                match self.job_description {
                    JobDescription::Servant => Color::Cyan.paint("â™Ÿ"),
                    JobDescription::Pony => Color::Cyan.paint("â™ž"),
                    JobDescription::Scholar => Color::Cyan.paint("â™"),
                    JobDescription::Cop => Color::Cyan.paint("â™œ"),
                    JobDescription::Princess => Color::Cyan.paint("â™›"),
                    JobDescription::Figurehead => Color::Cyan.paint("â™š"),
                }
            }
        };
        print!("{}", caricature);
    }

}
